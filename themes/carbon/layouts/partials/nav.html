<header class="w-full p-4 sticky top-0 flex justify-between items-center z-50" style="background: rgba(38, 6, 51);">
  <div class="w-full lg:mx-auto flex justify-between items-center" style="max-width: 1200px;">
    <a href="/" class="flex items-center">
      <img src="/chesscoders-logo.png" alt="Chess Coders Logo" />
      <h1 class="text-white px-2 font-display text-xl">Chess Coders</h1>
    </a>
    <nav class="nav-menu inline-block">
      <label class="block">
        <input type="checkbox" id="menu" class="lg:hidden" />

        {{ partial "menu-list.html" . }}
      </label>
    </nav>
    <button class="w-8 h-8 text-white lg:hidden" onclick="openMenu()">
      <i class="fas fa-bars w-8 text-2xl" id="menubutton"></i>
    </button>
  </div>
</header>

<script type="text/javascript">
  function openMenu() {
    document.getElementById("menu").checked = !document.getElementById("menu").checked
    document.addEventListener("click", outsideClickListener)
  }
  function closeMenu() {
    document.getElementById("menu").checked = false
  }

  function outsideClickListener(event) {
    if (!["menubutton", "menulist", "menu"].includes(event.target.id) && document.getElementById("menu").checked) {
      removeClickListener()
      closeMenu()
    }
  }
  function removeClickListener() {
    document.removeEventListener("click", outsideClickListener)
  }
</script>
